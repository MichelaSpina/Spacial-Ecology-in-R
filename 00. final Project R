#the aim of the project is to compare two images of Sicily, 
#respectively from February 2023 and February 2024, in terms of drought


library(imageRy)
library(terra)
library(viridis)
library(raster)

getwd()
setwd("C:/Users/Utente/OneDrive - Universit√† di Napoli Federico II/Desktop/Final R project")

Sic23 <- rast("2023-02-06-Sentinel-2.JPG")
Sic24 <- rast("2024-02-06-_Sentinel-2_.JPG")

#plot in multiframe the two images with the true colors
par(mfrow=c(1,2))
plot(Sic23)
plot(Sic24)


#calcolare dvi e ndvi
par(mfrow=c(1,2))
dviSic23 = Sic23[[1]] - Sic23[[2]]
ndviSic23 = (Sic23[[1]] - Sic23[[2]]) / (Sic23[[1]] + Sic23[[2]])
ndviSic23 = dviSic23 / (Sic23[[1]] + Sic23[[2]])
ndviSic23 = dviSic23 / (Sic23[[1]] + Sic23[[2]])
plot(dviSic23)
cl <- colorRampPalette(c("darkblue", "yellow", "red", "black")) (100)
plot(dviSic23, col=cl)

ndviSic24 = (Sic24[[1]] - Sic24[[2]]) / (Sic24[[1]] + Sic24[[2]])
dviSic24 = Sic24[[1]] - Sic24[[2]]
ndviSic24 = dviSic24 / (Sic24[[1]] + Sic24[[2]])
plot(dviSic24)
plot(dviSic24, col=cl)


#to be continued :')
